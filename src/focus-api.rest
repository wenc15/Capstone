//2025/11/17 edited by Zikai
//新增用户profile和预设白名单相关测试
# =============================================================
# 文件：focus-api.rest
# 作用：使用 VS Code REST Client 测试后端接口。
# 结构：
#   1. 专注会话接口：开始 / 查看状态 / 停止
#   2. 默认模板接口（WeatherForecast 示例）
#   3. 用户 Profile 接口
#   4. 白名单预设接口：获取 / 保存 / 删除
# 使用方式：
#   - 安装 VS Code 插件 "REST Client"
#   - 光标放在任意请求块内，点击 "Send Request" 即可。
# =============================================================

### 开始专注
POST http://localhost:5024/api/focus/start
Content-Type: application/json

{
  "durationSeconds": 300,
  "allowedProcesses": ["chrome.exe", "notepad.exe", "Code.exe"],
  "graceSeconds": 10
}

###

### 默认模板接口测试（示例）
GET http://localhost:5024/weatherforecast

###

### 查看专注状态
GET http://localhost:5024/api/focus/status

###

### 停止专注（视为手动结束 Aborted）
POST http://localhost:5024/api/focus/stop
Content-Type: application/json

###

### 读取用户 Profile（包含取消会话数）
# 返回示例：
# {
#   "totalFocusSeconds": 3600,
#   "totalSessions": 10,
#   "successfulSessions": 6,
#   "failedSessions": 2,
#   "canceledSessions": 2
# }
GET http://localhost:5024/api/profile

###

### 获取所有白名单预设
GET http://localhost:5024/api/whitelistpresets

###

### 保存当前白名单为预设（创建或更新）
POST http://localhost:5024/api/whitelistpresets
Content-Type: application/json

{
  "name": "Study - Chrome + VSCode",
  "allowedProcesses": ["chrome.exe", "Code.exe"],
  "allowedWebsites": ["https://leetcode.com", "github.com"]
}

###

### 删除指定白名单预设
# 使用步骤：
#   1. 先运行“获取所有白名单预设”请求；
#   2. 从响应里复制某个预设的 id；
#   3. 替换下面 URL 中的 <PUT_ID_HERE> 然后发送本请求。
#
# 注意：不再使用 {{presetId}} 占位符，避免 REST Client
#      没有设置变量时导致 id 传错。
DELETE http://localhost:5024/api/whitelistpresets/3c858ddb95a341efa543aa1336a225f9

###
