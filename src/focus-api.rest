
// 2026/01/27 edited by Zikai Lu
// 新增内容：
//   - 增加背包（Inventory）相关接口测试。
// 新增的作用：
//   - 便于前端联调查询与增减背包物品的接口。
// =============================================================
// 2026/01/25 edited by Zhecheng Xu
// 新增内容：
//   - 增加方便调试的快捷完成一次对话指令
// =============================================================
// 2026/01/21 edited by Zikai Lu
// 新增内容：
//   - 增加宠物成长值相关接口测试。
// 新增的作用：
//   - 便于前端联调查询与增减成长值的接口。
// =============================================================
// 2026/01/16 edited by Zikai
// 新增点数系统（Credits）相关测试：查询、增加、消耗点数。
// =============================================================
// 2025/11/17 edited by Zikai
// 新增用户profile和预设白名单相关测试
# =============================================================
# 文件：focus-api.rest
# 作用：使用 VS Code REST Client 测试后端接口。
# 结构：
#   1. 专注会话接口：开始 / 查看状态 / 停止
#   2. 默认模板接口（WeatherForecast 示例）
#   3. 用户 Profile 接口
#   4. 宠物成长值接口：查询 / 增加 / 减少
#   5. 背包接口：查询 / 增加 / 消耗物品
#   6. 白名单预设接口：获取 / 保存 / 删除
#   7. 点数系统接口：查询 / 增加 / 消耗点数
# 使用方式：
#   - 安装 VS Code 插件 "REST Client"
#   - 光标放在任意请求块内，点击 "Send Request" 即可。
# =============================================================

### 开始专注
POST http://localhost:5024/api/focus/start
Content-Type: application/json

{
  "durationSeconds": 60,
  "allowedProcesses": ["chrome.exe", "notepad.exe", "Code.exe"],
  "graceSeconds": 10
}

###

### 默认模板接口测试（示例）
GET http://localhost:5024/weatherforecast

###

### 查看专注状态
GET http://localhost:5024/api/focus/status

###

### 停止专注（视为手动结束 Aborted）
POST http://localhost:5024/api/focus/stop
Content-Type: application/json

###

### 读取用户 Profile（包含取消会话数和点数）
GET http://localhost:5024/api/profile

###

### 查询指定宠物成长值
GET http://localhost:5024/api/pets/0/growth

###

### 增加指定宠物成长值
POST http://localhost:5024/api/pets/0/growth/add
Content-Type: application/json

{
  "amount": 3
}

###

### 减少指定宠物成长值（最低为 0）
POST http://localhost:5024/api/pets/0/growth/consume
Content-Type: application/json

{
  "amount": 2
}

###

### 查询背包全部物品
GET http://localhost:5024/api/inventory

###

### 增加背包物品数量
POST http://localhost:5024/api/inventory/add
Content-Type: application/json

{
  "itemId": "testObject1",
  "amount": 2
}

###

### 消耗背包物品数量（库存不足会返回 400）
POST http://localhost:5024/api/inventory/consume
Content-Type: application/json

{
  "itemId": "testObject1",
  "amount": 1
}

###

### 获取所有白名单预设
GET http://localhost:5024/api/whitelistpresets

###

### 保存当前白名单为预设（创建或更新）
POST http://localhost:5024/api/whitelistpresets
Content-Type: application/json

{
  "name": "Study - Chrome + VSCode",
  "allowedProcesses": ["chrome.exe", "Code.exe"],
  "allowedWebsites": ["https://leetcode.com", "github.com"]
}

###

### 删除指定白名单预设
# 使用步骤：
#   1. 先运行“获取所有白名单预设”请求；
#   2. 从响应里复制某个预设的 id；
#   3. 替换下面 URL 中的 <PUT_ID_HERE> 然后发送本请求。
DELETE http://localhost:5024/api/whitelistpresets/<PUT_ID_HERE>

###

### 查询当前点数余额
GET http://localhost:5024/api/credits

###

### 手动增加点数
POST http://localhost:5024/api/credits/add
Content-Type: application/json

{
  "amount": 10
}

###

### 消耗点数（测试余额不足/成功场景）
POST http://localhost:5024/api/credits/consume
Content-Type: application/json

{
  "amount": 5
}

###

### Debug: 模拟一次成功专注会话（直接加 Credits）
# 说明：
#   - focusSeconds 控制本次“假会话”的时长（秒）
#   - Credits 增加规则仍然是 floor(秒 / 60)
# 用法示例：
#   - 600 秒 -> 预期 addedMinutes = 10，credits += 10
POST http://localhost:5024/api/debug/fake-success-session?focusSeconds=600
Content-Type: application/json

###